# Methods and Events

## Instance Methods <a href="#instance-methods" id="instance-methods"></a>

{% hint style="info" %}
**Note:** If initializing a File Manager application, the only supported method is `beeInstance.start()` without parameters.
{% endhint %}

Assuming that `beeInstance` is the instance of your embedded builder application, here are the methods you can call:

| Method                              | Description                                                                                                                                                                                                                                                                                                                       |
| ----------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `beeInstance.start(templateToLoad)` | Starts the builder, loading the `templateToLoad` JSON string with the template structure (if specified). If using the NPM package, you have additional options to pass here as defined on the [NPM page](https://www.npmjs.com/package/@beefree.io/sdk).                                                                          |
| `beeInstance.load(template)`        | Loads the JSON template string specified in the `template` parameter.                                                                                                                                                                                                                                                             |
| `beeInstance.reload(template)`      | Loads the JSON template string specified in the `template` parameter. Unlike `beeInstance.load(template)`, the reload method does not trigger a loading dialog. This method helps quickly reload a template seamlessly for specific use cases, such as using a custom undo/redo feature or injecting custom content in real-time. |
| `beeInstance.execCommand`           | The frontend performs one of the following actions: highlight, scroll, focus, or select. This is based on the action and target defined in the object. Read more.                                                                                                                                                                 |

If you use a paid plan, you can hide the top toolbar and control the builder from your application’s user interface. For example, it’s up to you at that point to have buttons above or below the builder.\
Here’s some useful methods for this scenario:

| Method                                 | Description                                                                                                                                                                            |
| -------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `beeInstance.preview()`                | Triggers the message preview behavior within the builder.                                                                                                                              |
| `beeInstance.togglePreview()`          | Open/close the message preview behavior within the builder.                                                                                                                            |
| `beeInstance.toggleStructure()`        | Controls the visibility of the structure outlines in the message editing portion of the builder.                                                                                       |
| `beeInstance.save()`                   | Invokes the `onSave` callback function. The application will pass two files to the function: a JSON file with the message structure (for later editing) and a ready-to-send HTML file. |
| `beeInstance.saveAsTemplate()`         | Invokes the `onSaveAsTemplate` callback function. The application will pass to the function a JSON file with the message structure (for later editing).                                |
| `beeInstance.send()`                   | Invokes the `onSend` callback function. The application will pass to the function a ready-to-send HTML file. **Important:** This callback is only compatible with the email builder.   |
| `beeInstance.toggleMergeTagsPreview()` | Controls the visibility of sample content for merge tags in the message editing portion of the builder.                                                                                |

## Instance Events <a href="#instance-events" id="instance-events"></a>

The top toolbar displayed by default within the builder contains buttons that trigger certain actions. These are the callbacks that are triggered when the buttons are clicked.

| Event                | Description                                                                                                                                                                                                                                                                                          | Returned values                                                                                                                                                                                                                                                                                                                              |
| -------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `onSave`             | Fired when the Save button is clicked.                                                                                                                                                                                                                                                               | JSON and HTML documents                                                                                                                                                                                                                                                                                                                      |
| `onSaveAsTemplate`   | Fired when “Save as template” is clicked.                                                                                                                                                                                                                                                            | JSON document                                                                                                                                                                                                                                                                                                                                |
| `onAutoSave`         | Fired automatically based on `autosave` configuration parameter value.                                                                                                                                                                                                                               | JSON document                                                                                                                                                                                                                                                                                                                                |
| `onSend`             | Fired when the “Send a test button” is clicked.                                                                                                                                                                                                                                                      | HTML document                                                                                                                                                                                                                                                                                                                                |
| `onLoad`             | Fired when the JSON is loaded in the builder.                                                                                                                                                                                                                                                        | JSON document                                                                                                                                                                                                                                                                                                                                |
| `onError`            | Fired every time an error occurs.                                                                                                                                                                                                                                                                    | Error message                                                                                                                                                                                                                                                                                                                                |
| `onPreview`          | Fired every time the preview button is pressed.                                                                                                                                                                                                                                                      | Status (Boolean)                                                                                                                                                                                                                                                                                                                             |
| `onTogglePreview`    | Fired every time the preview is opened or closed.                                                                                                                                                                                                                                                    | Status (Boolean)                                                                                                                                                                                                                                                                                                                             |
| `onChange`           | Fired every time a change on the message is performed.                                                                                                                                                                                                                                               | [Read More](../../tracking-message-changes.md)                                                                                                                                                                                                                                                                                               |
| `onRemoteChange`     | <p>Triggers during co-editing sessions. It notifies the frontend about changes made by other users in the session. </p><p><strong>Note:</strong> This is for users B, C, D, and so on, while <code>onChange</code> is specific to the main user, User A, making the change.</p>                      | Read more about `onRemoteChange` and [tracking changes](../../tracking-message-changes.md#onremotechange). Read more about [collaborative editing](../../../other-customizations/collaborative-editing/).                                                                                                                                    |
| `onComment`          | Fired every time a thread or comment changes.                                                                                                                                                                                                                                                        | [Read More](../../../other-customizations/advanced-options/commenting.md)                                                                                                                                                                                                                                                                    |
| `onFilePickerInsert` | Fired when the “insert” button is clicked. This property must be defined by the host application for the insert button to appear within the user interface. Available for [File Manager applications](../../../file-manager/file-manager-application-overview/#configure-insert-and-x-buttons) only. | Object with file info                                                                                                                                                                                                                                                                                                                        |
| `onFilePickerCancel` | Fired when the “X” button is clicked. This property must be defined by the host application for the cancel “X” button to appear within the user interface. Available for [File Manager applications](../../../file-manager/file-manager-application-overview/#configure-insert-and-x-buttons) only.  | None                                                                                                                                                                                                                                                                                                                                         |
| `onViewChange`       | Fired when a view in SDK changes (eg. File manager opens, preview, or image editor)                                                                                                                                                                                                                  | <p>Either one of these strings:</p><p><code>'fileManager'</code> - When File Manager opens<br><code>'editor'</code> - When the user closes one of the other views - also triggered when the Editor loads at first<br><code>'preview'</code> - When preview gets opened<br><code>'imageEditor'</code> - When the image editor gets opened</p> |
